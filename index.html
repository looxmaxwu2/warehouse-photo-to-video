<!DOCTYPE html>
<html>
<head>
  <title>FFmpeg.js Çözüm</title>
  <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.6/dist/ffmpeg.min.js"></script>
</head>
<body>
  <input type="file" id="uploader">
  <button id="convert">Dönüştür</button>
  
  <script>
    document.getElementById('convert').addEventListener('click', async () => {
      const { createFFmpeg, fetchFile } = FFmpeg;
      const ffmpeg = createFFmpeg({
        log: true,
        corePath: 'https://unpkg.com/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js'
      });
      
      await ffmpeg.load();
      
      const file = document.getElementById('uploader').files[0];
      ffmpeg.FS('writeFile', file.name, await fetchFile(file));
      
      await ffmpeg.run('-i', file.name, 'output.mp4');
      
      const data = ffmpeg.FS('readFile', 'output.mp4');
      const videoUrl = URL.createObjectURL(
        new Blob([data.buffer], { type: 'video/mp4' })
      );
      
      const video = document.createElement('video');
      video.src = videoUrl;
      video.controls = true;
      document.body.appendChild(video);
    });
  </script>
</body>
</html>
